{% extends 'main/base.html' %}

{% block content %}

<section>
    <main>
        <svg></svg>
    </main>

    <aside>
        <p style="font-weight: bold">
            <가본 나라>
        </p>
        <ol>
            {% for li in liArray %}
            <li>{{li|safe}}</li>
            <!-- by safe filter, string to html -->
            {% endfor %}
        </ol>
    </aside>
</section>

<div>
    <br>
    <hr><br>
    <h2>
        <통계 결과>
    </h2>
    <br>
    당신은 현재까지 <strong>{{ visitedNumber }} 개국</strong>을 여행하였습니다!<br>
    여최몇 참가자 중 <strong>상위 {{ rank }}%</strong> 입니다.
    <br><br><br>
    <div class="chart-container"><canvas id="numberChart"></canvas></div>
    <br>당신은 전세계의 <strong>{{ numberRatio }}%</strong>를 여행하였습니다! (국가 수 기준)<br>
    <br><br><br>
    <div class="chart-container"><canvas id="areaChart"></canvas></div>
    <br>당신은 전세계의 <strong>{{ areaRatio }}%</strong>를 여행하였습니다! (면적 기준)<br>
    <br><br><br>
    <div class="chart-container"><canvas id="continentsChart"></canvas></div>
    <!-- 대륙별: {{ continentsCountArray }}<br> -->
</div>


<div>
    <input class='input' type="hidden" id='visitedNumber' value='{{ visitedNumber }}'>
    <input class='input' type="hidden" id='visitedArea' value='{{ visitedArea }}'>
    <input class='input' type="hidden" id='continentsCountArray' value='{{ continentsCountArray }}'>
    <input class='input' type="hidden" id='countriesArray' value='{{ countriesArray }}'>
</div>


<div class='share-container'>
    <br><br><br>
    <label for='share-link'>결과 페이지 링크:</label>
    <input type="url" id='share-link' name='share-link' value='http://127.0.0.1:8000/result/{{ identifier }}' size="38">
    <br><br>
    <a href='javascript:copy_to_clipboard();' class='share-link'>
        <img src="/static/main/img/share.svg" alt="">
        결과 페이지 링크 복사하기
    </a>
    <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
    <br><br>
    <a href='javascript:kakaoInit();' class='kakao-link'>
        <img src="/static/main/img/kakao.svg" alt="">
        카카오톡으로 결과 공유하기
    </a>
</div>


<div>
    <br>
    <hr><br>
    <h2>
        <여최몇 참가자 통계>
    </h2>
    <br>
    참가자 수: <strong>{{all.count}} 명</strong>
    <br><br>
    평균 여행 국가 수: <strong>{{averageCount}} 개국</strong>
    <br><br><br>
    <!-- 순위: {{sortedRatioDict}} -->
    <input class='input' type="hidden" id='sortedRatioDict' value='{{ sortedRatioDict }}'>
    <div class="rankChart-container">
        <canvas id="rankChart"></canvas>
    </div>
</div>

{% endblock %}